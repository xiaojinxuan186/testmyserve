{"version":3,"sources":["webpack:///./src/components/img/del.png","webpack:///src/components/jf_chongzhi.vue","webpack:///./src/components/jf_chongzhi.vue?0d60","webpack:///./src/components/jf_chongzhi.vue"],"names":["module","exports","jf_chongzhi","name","data","query","this","$route","money","show","wxConfig","created","_this","Object","api","url","encodeURIComponent","code","then","res","signpackage","methods","chongzhi","_this2","es","indexOf","formData","FormData","append","$cookie","get","apiPost","utils","payConfig","wx","config","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","readyData","chooseWXPay","info","package","signType","paySign","success","$router","go","fail","order_id","console","log","complete","cancel","trigger","components_jf_chongzhi","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","value","expression","attrs","maxlength","type","domProps","on","input","$event","target","composing","src","__webpack_require__","alt","click","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.f0b4a3bf97ec14d33020.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/img/del.png\n// module id = fOw9\n// module chunks = 9","<template>\r\n    <div class=\"jfChongzhi\">\r\n      <div class=\"mon_div\">\r\n        <div class=\"mon_info\">请输入金额</div>\r\n        <div class=\"mon_ipt\">\r\n          <span>￥</span>\r\n          <input v-model=\"money\" maxlength=\"12\"  v-focuss type=\"number\" />\r\n          <img v-if=\"money\" @click=\"money=''\" src=\"./img/del.png\" alt=\"\">\r\n        </div>\r\n        <van-button type=\"default btn_cz\" @click=\"chongzhi\" >充值</van-button>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import { Toast } from 'vant'\r\n  import { apiGet } from '../common/js/api';\r\n  import { initWxConfig, isweixin } from \"@/assets/utils\"\r\n    export default {\r\n      name: \"jfChongzhi\",\r\n      data(){\r\n        const query = this.$route.query;\r\n          return{\r\n              query:query,\r\n              money:'',\r\n              show: true,\r\n              wxConfig:{}\r\n          }\r\n      },\r\n      created(){\r\n        // initWxConfig(['chooseWXPay'])\r\n        apiGet(\"/index/sign-package\",{\r\n          url:encodeURIComponent(`http://anfum.demo.sclonsee.com/jfChongzhi?code=${this.query.code}`)\r\n        }).then(res=>{\r\n          this.wxConfig = res.data.data.signpackage;\r\n        })\r\n      },\r\n      methods:{\r\n        chongzhi(){\r\n          if(this.money%1>0){\r\n            Toast('请输入整数');\r\n            return\r\n          }else if( !this.money.indexOf(\"e\") != -1 ){\r\n            Toast('请输入合法的数字');\r\n            return\r\n          }\r\n          //生成本地订单\r\n          let formData = new FormData()\r\n          formData.append(\"accessToken\",this.$cookie.get('accessToken'))\r\n          formData.append(\"code\",this.query.code)\r\n          formData.append(\"price\",this.money)\r\n          formData.append(\"integral\",this.money*10)\r\n          apiPost(\"/integral/wchat-pay\",formData).then(res=>{\r\n            if(!isweixin()){\r\n              Toast(\"请在微信浏览器中打开！\")\r\n              return;\r\n            }\r\n            const { wxConfig } = this;\r\n            const payConfig = res.data.data;\r\n            wx.config({\r\n              debug: false, // 开启调试模式,开发时可以开启\r\n              appId: wxConfig.appId,   // 必填，公众号的唯一标识   由接口返回\r\n              // appId: \"wx2820819e12abc908\",   // 必填，公众号的唯一标识   由接口返回\r\n              timestamp: wxConfig.timestamp, // 必填，生成签名的时间戳 由接口返回\r\n              nonceStr: wxConfig.nonceStr,    // 必填，生成签名的随机串 由接口返回\r\n              signature: wxConfig.signature,   // 必填，签名 由接口返回\r\n              jsApiList: [\"chooseWXPay\"] // 此处填你所用到的方法 \r\n            });\r\n            wx.ready(function(readyData){\r\n              wx.chooseWXPay({\r\n                timestamp: payConfig.info.timestamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n                nonceStr: payConfig.info.nonceStr, // 支付签名随机串，不长于 32 位\r\n                package: payConfig.info.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=***）\r\n                signType: payConfig.info.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n                paySign: payConfig.info.paySign, // 支付签名\r\n                success: function (res) {\r\n                    // 支付成功后的回调函数\r\n                    this.$router.go(-2)\r\n                },\r\n                fail: function(res) {\r\n                    //接口调用失败时执行的回调函数。\r\n                    Toast(\"支付失败\")\r\n                    let formData = new FormData()\r\n                    formData.append(\"accessToken\",this.$cookie.get('accessToken'))\r\n                    formData.append(\"order_id\",payConfig.order_id)\r\n                    apiPost(\"/integral/pay-failure\",formData).then(res=>{\r\n                      console.log(res)\r\n                    })\r\n                },\r\n                complete: function(res) {\r\n                    //接口调用完成时执行的回调函数，无论成功或失败都会执行。\r\n                },\r\n                cancel: function(res) {\r\n                    //用户点击取消时的回调函数，仅部分有用户取消操作的api才会用到。\r\n                    Toast(\"支付取消\")\r\n                },\r\n                trigger: function(res) {\r\n                    //监听Menu中的按钮点击时触发的方法，该方法仅支持Menu中的相关接口。\r\n                }\r\n              })\r\n            })\r\n          })\r\n        }\r\n      },\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .jfChongzhi{\r\n   height: 100%;\r\n    padding-top: 0.18rem;\r\n    background: #E6E9ED;\r\n  }\r\n  .mon_div{\r\n    margin: 0 auto 0.16rem;\r\n    width:3.5rem;\r\n    height:1.41rem;\r\n    background:rgba(255,255,255,1);\r\n    border-radius:0.04rem;\r\n    .mon_info{\r\n      height: 0.5rem;\r\n      line-height: 0.5rem;\r\n      color: #999;\r\n      font-size: 0.16rem;\r\n      text-indent: 0.15rem;\r\n      width: 3.42rem;\r\n      margin: 0 auto;\r\n      border-bottom: 1px solid #f5f5f5;\r\n    }\r\n    .mon_ipt{\r\n      height: 0.9rem;\r\n      line-height: 0.9rem;\r\n      font-size: 0.49rem;\r\n      position: relative;\r\n      color: #333;\r\n      span{\r\n        float: left;\r\n        margin: 0 0.08rem;\r\n      }\r\n      input{\r\n        float: left;\r\n        border: none;\r\n        height: .9rem;\r\n        width: 2.6rem;\r\n      }\r\n      img{\r\n        width: 0.22rem;\r\n        border-radius: 0.22rem;\r\n        right: 0.2rem;\r\n        height: 0.22rem;\r\n        top: 41%;\r\n        position: absolute;\r\n      }\r\n    }\r\n    .btn_cz{\r\n      width:3.06rem;\r\n      height:0.47rem;\r\n      background:linear-gradient(-90deg,rgba(60,127,238,1),rgba(103,154,237,1));\r\n      border-radius:0.04rem;\r\n      color: white;\r\n      display: block;\r\n      font-size: 0.19rem;\r\n      margin:0.16rem auto 0;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/jf_chongzhi.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"jfChongzhi\"},[_c('div',{staticClass:\"mon_div\"},[_c('div',{staticClass:\"mon_info\"},[_vm._v(\"请输入金额\")]),_vm._v(\" \"),_c('div',{staticClass:\"mon_ipt\"},[_c('span',[_vm._v(\"￥\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.money),expression:\"money\"},{name:\"focuss\",rawName:\"v-focuss\"}],attrs:{\"maxlength\":\"12\",\"type\":\"number\"},domProps:{\"value\":(_vm.money)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.money=$event.target.value}}}),_vm._v(\" \"),(_vm.money)?_c('img',{attrs:{\"src\":require(\"./img/del.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.money=''}}}):_vm._e()]),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"default btn_cz\"},on:{\"click\":_vm.chongzhi}},[_vm._v(\"充值\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-a812fd8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/jf_chongzhi.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a812fd8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./jf_chongzhi.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./jf_chongzhi.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./jf_chongzhi.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a812fd8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./jf_chongzhi.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a812fd8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/jf_chongzhi.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}