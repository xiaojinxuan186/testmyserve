webpackJsonp([34],{8816:function(s,t){},"Xln/":function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("4YfN"),a=i.n(o),n=i("g3lQ"),e=i("ZC1k"),c=(i("m9rU"),{name:"sc_lanmu",components:{MyLoadMore:e.a},data:function(){return{query:this.$route.query,popupVisible:!1,sort:"zonghe",moneyId:"",isLoad:!0,mnListnum:-1,highcode:"",lowcode:"",searchInfo:{page:1,size:10,cate_id:this.$route.query.cate_id,key:this.$route.query.key,sort:"",min:"",max:""},moneyList:["0-100","100-300","300-500","500-1000","1000-2000","2500以上"],goodList:[]}},created:function(){this.getGoodsList()},methods:{getGoodsList:function(){var s=this;Object(n.a)("/goods/goods-list",a()({},this.searchInfo)).then(function(t){s.goodList=t.data.data.data})},submitForm:function(){this.popupVisible=!1,this.$set(this.searchInfo,"sort",5),this.getGoodsList()},loadmore:function(){var s=this;this.$set(this.searchInfo,"page",++this.searchInfo.page),Object(n.a)("/goods/goods-list",this.searchInfo).then(function(t){200===t.status&&(s.goodList=s.goodList.concat(t.data.data.data),t.data.data.data<10?s.isLoad=!1:s.isLoad=!0)})},resetSearch:function(){this.searchInfo={page:1,size:10,key:this.query.key,cate_id:this.query.cate_id,sort:"",min:"",max:""},this.popupVisible=!1,this.getGoodsList()},zonghe:function(){this.$set(this.searchInfo,"sort",""),this.getGoodsList()},changedt:function(){this.searchInfo.page=1;var s=this.searchInfo.sort;this.$set(this.searchInfo,"sort",1===s?2:2===s?1:2),this.getGoodsList()},changemn:function(){this.searchInfo.page=1;var s=this.searchInfo.sort;this.$set(this.searchInfo,"sort",3===s?4:4===s?3:4),this.getGoodsList()},chioseThis:function(s){if(this.mnListnum=s,this.mnListnum===this.moneyList.length-1)this.searchInfo.min="2500",this.searchInfo.max="";else{var t=this.moneyList[this.mnListnum].split("-");this.searchInfo.min=t[0],this.searchInfo.max=t[1]}}},mounted:function(){}}),r={render:function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"scLanmu"},[i("ul",{staticClass:"tab_list"},[i("li",{staticClass:"lantype",class:""===s.searchInfo.sort?"active":"",on:{click:function(t){s.zonghe()}}},[i("i",[s._v("综合")])]),s._v(" "),i("li",{on:{click:function(t){s.changedt()}}},[i("i",{class:1===s.searchInfo.sort||2===s.searchInfo.sort?"active":""},[s._v("销量")]),s._v(" "),i("div",[i("span",{staticClass:"iconfont icon-shangsanjiao",class:1===s.searchInfo.sort?"active":""}),s._v(" "),i("span",{staticClass:"iconfont icon-xiasanjiao",class:2===s.searchInfo.sort?"active":""})])]),s._v(" "),i("li",{on:{click:function(t){s.changemn()}}},[i("i",{class:3===s.searchInfo.sort||4===s.searchInfo.sort?"active":""},[s._v("积分")]),s._v(" "),i("div",[i("span",{staticClass:"iconfont icon-shangsanjiao",class:3===s.searchInfo.sort?"active":""}),s._v(" "),i("span",{staticClass:"iconfont icon-xiasanjiao",class:4===s.searchInfo.sort?"active":""})])]),s._v(" "),i("li",{class:5===s.searchInfo.sort?"active":"",on:{click:function(t){s.popupVisible=!0}}},[i("i",[s._v("筛选")])])]),s._v(" "),i("div",{staticClass:"lanList"},[i("MyLoadMore",{attrs:{list:s.goodList,isLoad:s.isLoad},on:{"is-loadmore":s.loadmore}},[s.goodList.length>=1?i("ul",s._l(s.goodList,function(t,o){return i("router-link",{key:o,attrs:{tag:"li",to:{name:"spXiangqin",params:{id:t.id}}}},[i("img",{attrs:{src:t.goods_img&&t.goods_img.length>0?t.goods_img[0]:"",alt:""}}),s._v(" "),i("h3",{staticClass:"danyi"},[s._v("\n          "+s._s(t.goods_name)+"\n        ")]),s._v(" "),i("div",{staticClass:"sc_jflist"},[i("div",{staticClass:"jfnum"},[i("span",[s._v(s._s(t.goods_integral))]),s._v("积分")]),s._v(" "),i("div",{staticClass:"rsnum"},[i("span",[s._v(s._s(t.goods_inventory))]),s._v("人已兑换")])])])})):s._e()])],1),s._v(" "),i("a",{staticClass:"kefu iconfont icon-kefu",attrs:{href:""}}),s._v(" "),i("mt-popup",{attrs:{position:"right"},model:{value:s.popupVisible,callback:function(t){s.popupVisible=t},expression:"popupVisible"}},[i("div",{staticClass:"po_warp"},[i("form",{on:{submit:function(t){return t.preventDefault(),s.submitForm(t)}}},[i("div",{staticClass:"bottom_type"},[i("van-button",{attrs:{type:"default"},on:{click:function(t){return t.preventDefault(),s.resetSearch(t)}}},[s._v("重置")]),s._v(" "),i("van-button",{attrs:{type:"default","native-type":"submit"}},[s._v("确认")])],1),s._v(" "),i("div",{staticClass:"info"},[s._v("积分区间")]),s._v(" "),i("div",{staticClass:"money_area"},[i("input",{directives:[{name:"model",rawName:"v-model",value:s.searchInfo.min,expression:"searchInfo.min"}],attrs:{type:"number",min:"0",placeholder:"最低积分"},domProps:{value:s.searchInfo.min},on:{input:function(t){t.target.composing||s.$set(s.searchInfo,"min",t.target.value)}}}),s._v(" "),i("span"),s._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:s.searchInfo.max,expression:"searchInfo.max"}],attrs:{type:"number",min:s.searchInfo.min,placeholder:"最高积分"},domProps:{value:s.searchInfo.max},on:{input:function(t){t.target.composing||s.$set(s.searchInfo,"max",t.target.value)}}})]),s._v(" "),i("ul",{staticClass:"jifenlist"},s._l(s.moneyList,function(t,o){return i("li",{key:o,class:(o===s.moneyList.length-1?2500==s.searchInfo.min&&""==s.searchInfo.max:t.split("-")[0]==s.searchInfo.min&&t.split("-")[1]==s.searchInfo.max)?"chiose":"",on:{click:function(t){s.chioseThis(o)}}},[s._v("\n            "+s._s(t)+"\n          ")])}))])])])],1)},staticRenderFns:[]};var h=i("C7Lr")(c,r,!1,function(s){i("8816")},"data-v-59013560",null);t.default=h.exports}});
//# sourceMappingURL=34.e5235a5ff2fa56abaf6c.js.map