{"version":3,"sources":["webpack:///src/components/UnSafe.vue","webpack:///./src/components/UnSafe.vue?097b","webpack:///./src/components/UnSafe.vue"],"names":["UnSafe","name","data","isSend","codeInfo","code","mobile","codereg","codeback","password","repassword","isLoading","timer","passwordreg","methods","onRefresh","_this","this","setTimeout","Object","es","count","getCode","_this2","Reg","test","api","cellphone","type","then","res","console","log","status","phonecode","message","num","setInterval","clearInterval","codeinfo","toProve","pwd_new1","pwd_new2","passwordReg","components_UnSafe","render","_vm","_h","$createElement","_c","_self","on","refresh","model","value","callback","$$v","expression","staticClass","_v","directives","rawName","attrs","placeholder","domProps","input","$event","target","composing","class","sendCode","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.78f764eaf7014bc9f534.js","sourcesContent":["<template>\n  <van-pull-refresh  v-model=\"isLoading\" @refresh=\"onRefresh\">\n    <div class=\"xgMobilewrap\">\n      <div class=\"xgMobile\">\n        <div class=\"mobile\">\n          <span>手机号</span>\n          <input type=\"number\" v-model=\"mobile\" placeholder=\"请输入手机号\">\n        </div>\n        <div class=\"saf_wrap\">\n          <div class=\"safe_info\">校验码</div>\n          <input type=\"number\" v-model=\"code\" placeholder=\"短信验证码\">\n          <div :class=\"{getCode:true,sendCode:!isSend}\" @click=\"getCode()\">{{codeInfo}}</div>\n        </div>\n        <div class=\"mobile\">\n          <span>密码</span>\n          <input type=\"password\" v-model=\"password\" placeholder=\"请输入密码\">\n        </div>\n        <div class=\"mobile\">\n          <span>确认</span>\n          <input type=\"password\" v-model=\"repassword\" placeholder=\"请再次输入密码\">\n        </div>\n      </div>\n      <van-button type=\"default btn_cz\" @click=\"toProve\">确认</van-button>\n    </div>\n  </van-pull-refresh>\n</template>\n\n<script>\n  import { apiGet,apiPost } from \"@/common/js/api\";\nimport { regMobile } from \"@/common/js/Reg\";\n  import { Toast } from 'vant';\n\n  export default {\n    name: \"xgMobile\",\n    data(){\n      return {\n        isSend:true,\n        codeInfo:'获取验证码',\n        code:'',\n        mobile:'',\n        codereg:'',\n        codeback:'',\n        password:'',\n        repassword:'',\n        isLoading: false,\n        timer:null,\n        passwordreg:''\n      }\n    },\n    methods:{\n      onRefresh() {\n        setTimeout(() => {\n         Toast('刷新成功');\n          this.isLoading = false;\n          this.count++;\n        }, 500);\n      },\n      getCode() {\n        if(regMobile.test(this.mobile) && this.isSend){\n          apiGet('/account/sms',{cellphone: this.mobile,type:4}).then((res)=>{\n            console.log(res)\n            if(res.data.status==200){\n              this.codeback=res.data.data.phonecode;\n              console.log(this.codeback)\n              Toast(res.data.message);\n              if (!this.isSend) {\n                return\n              }\n              this.isSend = false\n              let num = 60\n              this.codeInfo=`(${num}秒后重试)`\n              this.timer = setInterval(() => {\n                num --;\n                this.codeInfo=`(${num}秒后重试)`\n                if (num == 0) {\n                  clearInterval(this.timer)\n                  this.codeInfo=`获取验证码`\n                  this.isSend = true\n                }\n              }, 1000)\n            }else {\n              Toast('验证码发送失败,请重试!');\n            }\n          })\n        }else if(!regMobile.test(this.mobile)){\n          Toast('请输入正确格式的手机号!');\n        }else if(this.codeinfo != '获取验证码'){\n          Toast('验证码发送频繁,请稍后再试');\n        }\n\n        /*axios.get('/api/menu',{params:{restaurant_id: 155147,terminal:'web'}}).then((res)=>{\n          console.log(res)\n        })*/\n      },\n      toProve(){\n        if (!regMobile.test(this.mobile)) {\n          Toast('请输入正确的手机号');\n          return\n        }else if(this.codeback!=this.code){\n          Toast('验证码输入错误!');\n          clearInterval(this.timer)\n          this.codeInfo=`获取验证码`\n          this.isSend = true\n          return\n        }else if(this.password!=this.repassword){\n          Toast('密码输入错误!');\n        }else{\n         apiPost('/account/reset-password',{cellphone: this.mobile,code:this.code,pwd_new1:this.password,pwd_new2:this.repassword}).then((res)=>{\n           Toast(res.data.message);\n         })\n        }\n      },\n      passwordReg(){\n        let psdreg=/^[\\w]{6,12}$/;\n        let reg=/^\\d{1,}$/\n        if(reg.test(this.password)){\n          Toast('请不要输入纯数字');\n        }else if( !psdreg.test(this.password)){\n          Toast('请输入正确格式的密码!');\n        } else{\n          this.passwordreg=true;\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .van-pull-refresh{\n    height: 100%;\n    background: #E6E9ED;\n  }\n  .xgMobilewrap{\n    width: 100%;\n    height: 100%;\n    .xgMobile{\n      width:3.5rem;\n      background:rgba(255,255,255,1);\n      border-radius:0.04rem;\n      margin: 0.18rem auto;\n      .mobile{\n        height: 0.56rem;\n        width: 3.5rem;\n        line-height: 0.56rem;\n        span{\n          font-size: 0.17rem;\n          color: #333;\n          width: 20%;\n          float: left;\n          text-align: center;\n        }\n        input{\n          font-size: 0.15rem;\n          width: 70%;\n          height: 0.5rem;\n          border: none;\n          margin-left: 0.15rem;\n          color: #9a9a9a;\n        }\n      }\n      .saf_wrap{\n        margin: 0 auto;\n        width: 3.5rem;\n        height: 0.56rem;\n        background: white;\n        border-radius: 0.04rem;\n        display: flex;\n        .safe_info,.getCode{line-height: 0.5rem;text-align: center;height: .5rem}\n        .safe_info{color: #333;font-size: 0.17rem;width:20%}\n        .getCode{font-size: .14rem;color: #3C7FEE;width: 25%;position: relative;}\n        .sendCode{color: #bcbcbc}\n        .getCode::before{content: '';width: 1px;height: 0.22rem;background: #f5f5f5;position: absolute;top:0.14rem;left: 0.015rem;}\n        input{width: 55%;border: none;text-align: left;height: 0.5rem;line-height: .5rem;padding-left: 0.15rem;font-size: 0.15rem}\n      }\n    }\n    .btn_cz{\n      width:3.06rem;\n      height:0.47rem;\n      background:linear-gradient(-90deg,rgba(60,127,238,1),rgba(103,154,237,1));\n      border-radius:0.04rem;\n      color: white;\n      display: block;\n      font-size: 0.19rem;\n      margin:0.16rem auto 0;\n      margin-top: 1.5rem;\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UnSafe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"xgMobilewrap\"},[_c('div',{staticClass:\"xgMobile\"},[_c('div',{staticClass:\"mobile\"},[_c('span',[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mobile),expression:\"mobile\"}],attrs:{\"type\":\"number\",\"placeholder\":\"请输入手机号\"},domProps:{\"value\":(_vm.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.mobile=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"saf_wrap\"},[_c('div',{staticClass:\"safe_info\"},[_vm._v(\"校验码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"number\",\"placeholder\":\"短信验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('div',{class:{getCode:true,sendCode:!_vm.isSend},on:{\"click\":function($event){_vm.getCode()}}},[_vm._v(_vm._s(_vm.codeInfo))])]),_vm._v(\" \"),_c('div',{staticClass:\"mobile\"},[_c('span',[_vm._v(\"密码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mobile\"},[_c('span',[_vm._v(\"确认\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.repassword),expression:\"repassword\"}],attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入密码\"},domProps:{\"value\":(_vm.repassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.repassword=$event.target.value}}})])]),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"default btn_cz\"},on:{\"click\":_vm.toProve}},[_vm._v(\"确认\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7be823fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/UnSafe.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7be823fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./UnSafe.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./UnSafe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./UnSafe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7be823fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./UnSafe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7be823fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UnSafe.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}