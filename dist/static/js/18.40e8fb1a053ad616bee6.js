webpackJsonp([18],{A3b9:function(e,t){},l65q:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c("g3lQ"),s=c("m9rU"),n=c("pBwn"),a={name:"safe",data:function(){return{codeInfo:"获取验证码",isSend:!0,phone:"",code:"",codeback:"",accessToken:"",typeId:"",activeNum:1}},mounted:function(){this.phone=this.$cookie.get("cellphone"),this.typeId=this.$route.params.typeId,this.accessToken=this.$cookie.get("accessToken")},created:function(){this.activeNum=Object(n.b)("activeNum")},methods:{getCode:function(){var e=this;this.$cookie.get("cellphone")&&this.isSend?Object(o.a)("/account/sms",{cellphone:this.phone,type:4}).then(function(t){if(200==t.status){if(e.codeback=t.data.data.phonecode,console.log(e.codeback),Object(s.j)(t.data.message),!e.isSend)return void console.log(21);e.isSend=!1;var c=60;e.codeInfo="("+c+"秒后重试)",e.timer=setInterval(function(){c--,e.codeInfo="("+c+"秒后重试)",0==c&&(clearInterval(e.timer),e.codeInfo="获取验证码",e.isSend=!0)},1e3)}}):"获取验证码"!=this.codeInfo?Object(s.j)("验证码发送频繁,请稍后再试"):Object(s.j)("请输入正确格式的手机号!")},toNext:function(){var e=this;Object(o.b)("/account/check-code",{accessToken:this.accessToken,code:this.code}).then(function(t){if(400==t.data.status)return Object(s.j)("验证码输入错误!"),clearInterval(e.timer),e.codeInfo="获取验证码",void(e.isSend=!0);200==t.data.status&&(Object(s.j)("验证通过!"),1==e.typeId?(Object(n.e)("activeNum",2),e.$router.push("/xgMobile")):2==e.typeId?(Object(n.e)("activeNum",2),e.$router.push("/xgDengpassword")):3==e.typeId&&(Object(n.e)("activeNum",2),e.$router.push("/xgDuipassword")))})}}},i={render:function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"safe"},[c("div",{staticClass:"saf_wrap"},[c("div",{staticClass:"safe_info"},[e._v("校验码")]),e._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",placeholder:"输入短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),c("div",{class:{getCode:!0,sendCode:!e.isSend},on:{click:function(t){e.getCode()}}},[e._v(e._s(this.codeInfo))])]),e._v(" "),e.isSend?e._e():c("div",{staticClass:"tishi"},[c("p",[e._v("已向您的手机发送手机验证码")]),e._v(" "),c("p",[e._v(e._s(this.phone))])]),e._v(" "),c("van-button",{staticClass:"beSure",attrs:{type:"default"},on:{click:e.toNext}},[e._v("确认")]),e._v(" "),c("div",{staticClass:"bottom_pass"},[c("span",{staticClass:"iconfont icon-shangyiye",on:{click:function(){e.$router.go(-1)}}}),e._v(" "),c("span",{staticClass:"iconfont icon-xiayiye",class:e.activeNum>=2?"":"disabled",on:{click:function(){e.activeNum>=2&&e.$router.go(1)}}})])],1)},staticRenderFns:[]};var d=c("C7Lr")(a,i,!1,function(e){c("A3b9")},"data-v-e9abcc2c",null);t.default=d.exports}});
//# sourceMappingURL=18.40e8fb1a053ad616bee6.js.map