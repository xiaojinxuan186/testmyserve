webpackJsonp([3],{"8O0P":function(t,e){},Ar9L:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("++MA"),a=n("rxcl"),o=n.n(a),i=(n("8O0P"),n("ZC1k")),r=n("g3lQ"),c=n("m9rU");s.default.component(o.a.name,o.a);var d=[{name:"全部",status:0},{name:"待兑换",status:1},{name:"待发货",status:2},{name:"待收货",status:3}],u={name:"mall_order_list",components:{MyLoadMore:i.a},data:function(){return{tabList:d,isLoad:!0,tabIndex:0,page:1,styleList:{0:{color:"#589CE1"},1:{color:"#0BB3A5"},2:{color:"#E1A558"},3:{color:"#C14C4C"},4:{color:"#BCBCBC"}},orderList:[]}},computed:{},watch:{},beforeCreate:function(){},created:function(){this.accessToken=this.$cookie.get("accessToken"),this.getMallOrderList()},beforeMount:function(){},mounted:function(){},methods:{setTabStatus:function(t){this.tabIndex=t,this.page=1,console.log(this.tabIndex),this.getMallOrderList()},toOrderDetail:function(t,e){1!=t&&this.$router.push({path:"/orderDetail",query:{orderId:e}})},loadmore:function(){var t=this;this.isLoad=!0;var e=new FormData;e.append("accessToken",this.accessToken),e.append("status",this.tabIndex),e.append("page",++this.page),e.append("size",5),Object(r.b)("/order/order-list",e).then(function(e){"200"===e.data.status&&(console.log(e.data),console.log(e.data.data.list,e.data.data.list.length),t.orderList=t.orderList.concat(e.data.data.list),e.data.data.list.length<10?t.isLoad=!1:t.isLoad=!0)})},getMallOrderList:function(){var t=this,e=new FormData;e.append("accessToken",this.accessToken),e.append("status",this.tabIndex),e.append("page",this.page),e.append("size",5),console.log(e),Object(r.b)("/order/order-list",e).then(function(e){console.log(e),t.orderList=e.data.data.list,console.log(t.orderList)}).catch(function(){})},changeStatus:function(t,e,n){var s=this;c.d.confirm({title:"提示",message:"确认兑换该商品？"}).then(function(){s.$router.push({path:"/sPay",query:{orderId:e,goods_fee:n}})}).catch(function(){})},abandon:function(t){var e=this;c.d.confirm({title:"提示",message:"确认放弃兑换该商品？"}).then(function(){var n=new FormData;n.append("accessToken",e.accessToken),n.append("order_id",t),Object(r.b)("/order/un-order",n).then(function(t){Object(c.j)(t.data.message),e.getMallOrderList()})}).catch(function(){})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mall-order"},[n("div",{staticClass:"tab-con"},t._l(t.tabList,function(e){return n("div",{key:e.status,staticClass:"tab-item",class:t.tabIndex===e.status?"tab-active":"",on:{click:function(n){t.setTabStatus(e.status)}}},[t._v("\n      "+t._s(e.name)+"\n      "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.tabIndex===e.status,expression:"tabIndex===tab.status"}],staticClass:"bottom-line"})])})),t._v(" "),n("div",{staticClass:"order-con"},[n("MyLoadMore",{attrs:{list:t.orderList,isLoad:t.isLoad},on:{"is-loadmore":t.loadmore}},t._l(t.orderList,function(e){return n("div",{key:e.id,staticClass:"order-item"},[n("div",{staticClass:"order-info",on:{click:function(n){t.toOrderDetail(e.status,e.id)}}},[n("img",{attrs:{src:e.goods_img[0],alt:""}}),t._v(" "),n("div",{staticClass:"order-detail"},[n("span",{staticClass:"order-status",style:t.styleList[e.status-1]},[1==e.status?n("i",[t._v("待兑换")]):t._e(),t._v(" "),2==e.status?n("i",[t._v("待发货")]):t._e(),t._v(" "),3==e.status?n("i",[t._v("待收货")]):t._e(),t._v(" "),4==e.status?n("i",[t._v("已完成")]):t._e(),t._v(" "),5==e.status?n("i",[t._v("已取消")]):t._e()]),t._v(" "),n("p",{staticClass:"order-title"},[t._v(t._s(e.goods_name))]),t._v(" "),n("div",[t._v("使用积分:"+t._s(e.goods_fee)+" ")]),t._v(" "),n("div",[t._v("数量:"+t._s(e.nums))])])]),t._v(" "),n("div",{staticClass:"order-option"},[e.status<=1?n("mt-button",{staticClass:"btn sure-btn",attrs:{type:"primary"},on:{click:function(n){t.changeStatus(0,e.id,e.goods_fee)}}},[t._v("确认兑换")]):t._e(),t._v(" "),e.status<=2?n("mt-button",{staticClass:"btn cancel-btn",attrs:{type:"default"},on:{click:function(n){t.abandon(e.id)}}},[t._v("取消兑换")]):t._e()],1)])}))],1)])},staticRenderFns:[]};var f=n("C7Lr")(u,l,!1,function(t){n("Qd6M")},"data-v-cca4ad24",null);e.default=f.exports},Qd6M:function(t,e){},ULuq:function(t,e){},rxcl:function(t,e,n){t.exports=function(t){var e={};function n(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=211)}({0:function(t,e){t.exports=function(t,e,n,s,a){var o,i=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(o=t,i=t.default);var c,d="function"==typeof i?i.options:i;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns),s&&(d._scopeId=s),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=c):n&&(c=n),c){var u=d.functional,l=u?d.render:d.beforeCreate;u?d.render=function(t,e){return c.call(e),l(t,e)}:d.beforeCreate=l?[].concat(l,c):[c]}return{esModule:o,exports:i,options:d}}},109:function(t,e){},132:function(t,e,n){var s=n(0)(n(54),n(178),function(t){n(109)},null,null);t.exports=s.exports},17:function(t,e){t.exports=n("ULuq")},178:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"mint-button",class:["mint-button--"+t.type,"mint-button--"+t.size,{"is-disabled":t.disabled,"is-plain":t.plain}],attrs:{type:t.nativeType,disabled:t.disabled},on:{click:t.handleClick}},[t.icon||t.$slots.icon?n("span",{staticClass:"mint-button-icon"},[t._t("icon",[t.icon?n("i",{staticClass:"mintui",class:"mintui-"+t.icon}):t._e()])],2):t._e(),t._v(" "),n("label",{staticClass:"mint-button-text"},[t._t("default")],2)])},staticRenderFns:[]}},20:function(t,e,n){"use strict";var s=n(132),a=n.n(s);Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return a.a})},211:function(t,e,n){t.exports=n(20)},54:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(17),e.default={name:"mt-button",methods:{handleClick:function(t){this.$emit("click",t)}},props:{icon:String,disabled:Boolean,nativeType:String,plain:Boolean,type:{type:String,default:"default",validator:function(t){return["default","danger","primary"].indexOf(t)>-1}},size:{type:String,default:"normal",validator:function(t){return["small","normal","large"].indexOf(t)>-1}}}}}})}});
//# sourceMappingURL=3.b0a4582a838d5a9f24f6.js.map