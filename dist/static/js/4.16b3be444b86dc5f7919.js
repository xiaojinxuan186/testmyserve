webpackJsonp([4],{RwlJ:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=t("iDcQ"),a=t("g3lQ"),n=t("m9rU"),i={name:"logout",data:function(){return{notphone:!0,username:"",password:"",mobile:"",mobilereg:"",passwordreg:"",userId:"",code:"",timer:"",codeinfo:"获取验证码",codereg:"",isSend:!0,codeback:""}},created:function(){this.$cookie.get("accessToken")&&history.go(-1)},methods:{getCode:function(){var e=this;s.a.test(this.mobile)&&this.isSend?Object(a.a)("/account/sms",{cellphone:this.mobile,type:2}).then(function(o){if(console.log(o),200==o.status){if(e.codeback=o.data.data.phonecode,console.log(e.codeback),Object(n.j)(o.data.message),!e.isSend)return;e.isSend=!1;var t=60;e.codeinfo="("+t+"秒后重试)",e.timer=setInterval(function(){t--,e.codeinfo="("+t+"秒后重试)",0==t&&(clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0)},1e3)}else Object(n.j)("验证码发送失败,请重试"),clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0}):"获取验证码"!=this.codeinfo?Object(n.j)("验证码发送频繁,请稍后再试"):Object(n.j)("请输入正确格式的手机号!")},mobilePro:function(){/^[1][3,4,5,7,8][0-9]{9}$/.test(this.mobile)?this.mobilereg=!0:Object(n.j)("请输入正确的手机号")},passwordPro:function(){/^[\w]{6,12}$/.test(this.password)?this.passwordreg=!0:(Object(n.j)("请输入正确格式的密码"),this.passwordreg=!1)},codePro:function(){this.codeback==this.code&&(this.codereg=!0)},tologin:function(){var e=this;this.mobilereg&&this.passwordreg?Object(a.b)("/account/login",{cellphone:this.mobile,password:this.password}).then(function(o){console.log(o),200==o.data.status?(Object(n.j)(o.data.message),e.$cookie.set("id",o.data.data.id,{expires:"1Y"}),e.$cookie.set("cellphone",o.data.data.cellphone,{expires:"1Y"}),e.$cookie.set("accessToken",o.data.data.accessToken,{expires:"1Y"}),e.$router.push("/user/login")):400==o.data.status&&(Object(n.j)(o.data.message),clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0)}):this.mobilereg&&this.codereg&&Object(a.b)("/account/login-code",{cellphone:this.mobile,code:this.code}).then(function(o){console.log(o),200==o.data.status?(Object(n.j)(o.data.message),e.$cookie.set("id",o.data.data.id,{expires:"1Y"}),e.$cookie.set("cellphone",o.data.data.cellphone,{expires:"1Y"}),e.$cookie.set("accessToken",o.data.data.accessToken,{expires:"1Y"}),e.$router.push("/user/login")):400==o.data.status&&(Object(n.j)(o.data.message),clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0)})}}},c={render:function(){var e=this,o=e.$createElement,s=e._self._c||o;return s("div",{staticClass:"login_wrap"},[s("div",{staticClass:"login"},[s("img",{staticClass:"logo",attrs:{src:t("yWUg"),alt:""}}),e._v(" "),s("div",{staticClass:"tab_login"},[s("span",{class:{chiose:e.notphone},on:{click:function(o){e.notphone=!0}}},[e._v("账号密码登录")]),e._v(" "),s("i",{staticClass:"fenge"},[e._v("|")]),e._v(" "),s("span",{class:{chiose:!e.notphone},on:{click:function(o){e.notphone=!1}}},[e._v("验证码登录")])])]),e._v(" "),e.notphone?s("div",{staticClass:"zhang_login "},[s("li",[s("span",{staticClass:"iconfont icon-shouji"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"},{name:"focus",rawName:"v-focus"}],attrs:{maxlength:"16",type:"number",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{blur:function(o){e.mobilePro()},input:function(o){o.target.composing||(e.mobile=o.target.value)}}}),e.username?s("img",{attrs:{src:t("SF0q"),alt:""},on:{click:function(o){e.username=""}}}):e._e()]),e._v(" "),s("li",[s("span",{staticClass:"iconfont icon-mima"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"},{name:"focus",rawName:"v-focus"}],attrs:{maxlength:"16",type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{blur:function(o){e.passwordPro()},input:function(o){o.target.composing||(e.password=o.target.value)}}}),e.password?s("img",{attrs:{src:t("SF0q"),alt:""},on:{click:function(o){e.password=""}}}):e._e()])]):e._e(),e._v(" "),e.notphone?e._e():s("div",{staticClass:"show_login"},[s("li",[s("span",{staticClass:"iconfont icon-shouji"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"},{name:"focus",rawName:"v-focus"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{blur:function(o){e.mobilePro()},input:function(o){o.target.composing||(e.mobile=o.target.value)}}}),e.mobile?s("img",{attrs:{src:t("SF0q"),alt:""},on:{click:function(o){e.mobile=""}}}):e._e()]),e._v(" "),s("li",{staticClass:"yanzheng"},[s("span",{staticClass:"iconfont icon-yanzhengma"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"},{name:"focus",rawName:"v-focus"}],attrs:{type:"number",placeholder:"请输入验证码"},domProps:{value:e.code},on:{blur:function(o){e.codePro()},input:function(o){o.target.composing||(e.code=o.target.value)}}}),e.code?s("img",{attrs:{src:t("SF0q"),alt:""},on:{click:function(o){e.code=""}}}):e._e(),e._v(" "),s("van-button",{class:{sendcode:!e.isSend,btn_code:!0},attrs:{type:"default",plain:""},on:{click:function(o){e.getCode()}}},[e._v(e._s(e.codeinfo))])],1)]),e._v(" "),s("van-button",{staticClass:"btn-login",attrs:{type:"default",plain:""},on:{click:e.tologin}},[e._v("登录")]),e._v(" "),s("div",{staticClass:"other_link"},[s("router-link",{attrs:{to:"/unSafe"}},[e._v("忘记密码")]),e._v(" "),s("router-link",{attrs:{to:"/register"}},[e._v("注册账号")])],1)],1)},staticRenderFns:[]};var r=t("C7Lr")(i,c,!1,function(e){t("doWe")},"data-v-1acc73ce",null);o.default=r.exports},SF0q:function(e,o){e.exports="data:image/png;base64,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"},doWe:function(e,o){},yWUg:function(e,o,t){e.exports=t.p+"static/img/logo.0a07838.png"}});
//# sourceMappingURL=4.16b3be444b86dc5f7919.js.map