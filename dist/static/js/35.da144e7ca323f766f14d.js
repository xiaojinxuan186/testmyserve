webpackJsonp([35],{Mrgn:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("pBwn"),d=t("m9rU"),i=t("g3lQ");t("++MA").default.use(d.g);var a={name:"address-list",data:function(){var e=this.$route.query;return{query:e,addressList:[],chooseItem:{},chooseItemId:e.id,chooseItemName:e.address,chooseItemUser:e.name,chooseItemMobile:e.cellphone}},components:{},computed:{},watch:{},beforeCreate:function(){},created:function(){this.getAddressList()},beforeMount:function(){},mounted:function(){},methods:{chooseAdd:function(){var e=this,s=new FormData;if(this.query.choose){var t=this.chooseItemId,d=this.chooseItemName,a=this.chooseItemUser,c=this.chooseItemMobile;return Object(o.e)("chooseAdd",{id:t,address:d,name:a,cellphone:c}),void this.$router.go(-1)}var n=this.chooseItemId,r=this.chooseItemName,h=this.chooseItemUser,l=this.chooseItemMobile;Object(o.e)("chooseAdd",{addressId:n,addressName:r,userName:h,mobile:l,accessToken:""}),console.log(s),s.append("accessToken",this.accessToken),s.append("address_id",this.chooseItemId),console.log(s),Object(i.b)("/address/default",s).then(function(s){console.log(s),e.getAddressList()})},getAddressList:function(){var e=this;this.accessToken=this.$cookie.get("accessToken"),Object(i.a)("/address/address-list",{accessToken:this.accessToken,page:1,size:100}).then(function(s){console.log(s),e.addressList=s.data.data.list,e.query.choose||e.addressList.forEach(function(s,t){1==s.is_default&&(e.chooseItemId=s.id,e.chooseItemName=s.address,e.chooseItemUser=s.name,e.chooseItemMobile=s.cellphone)})})},deleteAddress:function(e){var s=this,t=new FormData;t.append("accessToken",this.accessToken),t.append("address_id",e),d.d.confirm({title:"警告",message:"是否确认删除该地址？"}).then(function(){console.log(e,s.accessToken),console.log(t),Object(i.b)("/address/address-del",t).then(function(e){console.log(e),200==e.data.status?(Object(d.j)("删除成功!"),s.getAddressList()):Object(d.j)("删除失败,请重试!")})}).catch(function(){})},toAddAddress:function(){this.$router.push({path:"/addAddress"})},toEditAddress:function(e){this.$router.push({path:"/editAddress",query:{addressId:e,isEdit:!0}})}}},c={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"address-list"},[t("div",{staticClass:"list-con"},e._l(e.addressList,function(s){return t("div",{key:s.id,staticClass:"add-list"},[t("div",{staticClass:"info-detail"},[t("div",[e._v(e._s(s.name))]),e._v(" "),t("div",[e._v(e._s(s.address))])]),e._v(" "),t("div",{staticClass:"order-option"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.chooseItemId,expression:"chooseItemId"}],staticClass:"choose-radio",attrs:{name:"addRadio",type:"radio"},domProps:{value:s.id,checked:e._q(e.chooseItemId,s.id)},on:{change:function(t){e.chooseItemId=s.id}}}),e._v(" "),t("label",{attrs:{for:s.id},on:{click:function(){e.chooseItemId=s.id,e.chooseItemName=s.address,e.chooseItemUser=s.name,e.chooseItemMobile=s.cellphone}}})]),e._v(" "),t("div",[t("span",{staticClass:"option",on:{click:function(t){e.toEditAddress(s.id)}}},[t("em",{staticClass:"iconfont icon-bianji"}),t("i",[e._v("编辑")])]),e._v(" "),t("span",{staticClass:"option",on:{click:function(t){e.deleteAddress(s.id)}}},[t("em",{staticClass:"iconfont icon-shanchu"}),t("i",[e._v("删除")])])])])])})),e._v(" "),t("div",{staticClass:"add-con",on:{click:e.toAddAddress}},[t("span",{staticClass:"iconfont icon-jiahao"}),e._v("添加新地址\n  ")]),e._v(" "),t("van-button",{staticClass:"btn-login",attrs:{type:"default",plain:""},on:{click:e.chooseAdd}},[e._v("保存")])],1)},staticRenderFns:[]};var n=t("C7Lr")(a,c,!1,function(e){t("SJkY")},"data-v-56a59642",null);s.default=n.exports},SJkY:function(e,s){}});
//# sourceMappingURL=35.da144e7ca323f766f14d.js.map