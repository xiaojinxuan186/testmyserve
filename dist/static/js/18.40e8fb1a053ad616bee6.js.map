{"version":3,"sources":["webpack:///src/components/Safe.vue","webpack:///./src/components/Safe.vue?2dc3","webpack:///./src/components/Safe.vue"],"names":["Safe","name","data","codeInfo","isSend","phone","code","codeback","accessToken","typeId","activeNum","mounted","this","$cookie","get","$route","params","created","Object","utils","methods","getCode","_this","api","cellphone","type","then","res","status","phonecode","console","log","es","message","num","timer","setInterval","clearInterval","toNext","_this2","$router","push","components_Safe","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","value","expression","attrs","placeholder","domProps","on","input","$event","target","composing","class","sendCode","click","_s","_e","go","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.40e8fb1a053ad616bee6.js","sourcesContent":["<template>\n    <div class=\"safe\">\n        <div class=\"saf_wrap\">\n          <div class=\"safe_info\">校验码</div>\n          <input type=\"number\" v-model=\"code\" placeholder=\"输入短信验证码\">\n          <div :class=\"{getCode:true,sendCode:!isSend}\" @click=\"getCode()\">{{this.codeInfo}}</div>\n        </div>\n        <div class=\"tishi\" v-if=\"!isSend\">\n          <p>已向您的手机发送手机验证码</p>\n          <p>{{this.phone}}</p>\n        </div>\n      <van-button type=\"default\" class=\"beSure\" @click=\"toNext\">确认</van-button>\n      <div class=\"bottom_pass\">\n        <span @click=\"()=>{$router.go(-1)}\" class=\"iconfont icon-shangyiye\" ></span>\n        <span :class=\"activeNum>=2?'':'disabled'\" @click=\"()=>{if(activeNum>=2){$router.go(1)}}\" class=\"iconfont icon-xiayiye\" ></span>\n      </div>\n    </div>\n</template>\n\n<script>\n  import { apiGet} from \"@/common/js/api\";\n  import { apiPost } from \"@/common/js/api\";\n  import { Toast } from 'vant';\n  import { setStore,getStore } from '../assets/utils';\n      export default {\n        name: \"safe\",\n      data(){\n          return{\n            codeInfo:'获取验证码',\n            isSend:true,\n            phone:'',\n            code:'',\n            codeback:'',\n            accessToken:'',\n            typeId:'',\n            activeNum:1,\n          }\n      },\n      mounted(){\n        this.phone=this.$cookie.get('cellphone');\n        this.typeId=this.$route.params.typeId;\n        this.accessToken=this.$cookie.get(\"accessToken\");\n      },\n      created(){\n        this.activeNum = getStore('activeNum')\n      },\n      methods:{\n        getCode() {\n          if(this.$cookie.get('cellphone') && this.isSend) {\n            apiGet('/account/sms', {cellphone: this.phone, type: 4}).then((res) => {\n              if (res.status == 200) {\n                this.codeback = res.data.data.phonecode;\n                console.log(this.codeback)\n                Toast(res.data.message);\n                if (!this.isSend) {\n                  console.log(21);\n                  return ;\n                }\n                this.isSend = false\n                let num = 60\n                this.codeInfo = `(${num}秒后重试)`\n                this.timer = setInterval(() => {\n                  num--;\n                  this.codeInfo = `(${num}秒后重试)`\n                  if (num == 0) {\n                    clearInterval(this.timer)\n                    this.codeInfo = `获取验证码`\n                    this.isSend = true\n                  }\n                }, 1000)\n              }\n            })\n          } else if( this.codeInfo != '获取验证码' ){\n            Toast('验证码发送频繁,请稍后再试');\n          }\n          else{\n            Toast('请输入正确格式的手机号!');\n          }\n        },\n        toNext(){\n          apiPost('/account/check-code',{accessToken:this.accessToken,code:this.code}).then((res)=>{\n            if(res.data.status==400){\n              Toast('验证码输入错误!');\n              clearInterval(this.timer)\n              this.codeInfo = `获取验证码`\n              this.isSend = true\n              return\n            }else if(res.data.status==200){\n              Toast('验证通过!');\n              if( this.typeId ==1){\n                setStore('activeNum',2)\n                this.$router.push('/xgMobile')\n              }else if( this.typeId==2){\n                setStore('activeNum',2)\n                this.$router.push('/xgDengpassword')\n              }else if(this.typeId==3){\n                setStore('activeNum',2)\n                this.$router.push('/xgDuipassword')\n              }\n            }\n          })\n        }\n      }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n  .safe{\n    background: #E6E9ED;\n    width: 100%;\n    height: 100%;\n    padding-top: 0.18rem;\n    .saf_wrap{\n     margin: 0 auto;\n      width: 3.3rem;\n      height: 0.5rem;\n      background: white;\n      border-radius: 0.04rem;\n      display: flex;\n      .safe_info,.getCode{line-height: 0.5rem;text-align: center;height: .5rem}\n      .safe_info{color: #333;font-size: 0.17rem;width:20%}\n      .getCode{font-size: .14rem;color: #3C7FEE;width: 30%;position: relative;}\n      .sendCode{color: #bcbcbc}\n      .getCode::before{content: '';width: 1px;height: 0.22rem;background: #f5f5f5;position: absolute;top:0.14rem;left: 0.015rem;}\n      input{width: 55%;border: none;text-align: right;height: 0.5rem;line-height: .5rem;padding-right: 0.15rem}\n    }\n    .tishi{\n      width: 2.4rem;\n      margin: 0.21rem auto 0;\n      color: #9a9a9a;\n      font-size: 0.17rem;\n      text-align: center;\n      line-height: 0.26rem;\n    }\n    .beSure{\n      width: 3.06rem;\n      height: 0.47rem;\n      display: block;\n      color: white;\n      font-size: 0.19rem;\n      margin: 1.47rem auto 0;\n      background:linear-gradient(-90deg,rgba(60,127,238,1),rgba(103,154,237,1));\n      border-radius:0.04rem;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Safe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"safe\"},[_c('div',{staticClass:\"saf_wrap\"},[_c('div',{staticClass:\"safe_info\"},[_vm._v(\"校验码\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"number\",\"placeholder\":\"输入短信验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),_vm._v(\" \"),_c('div',{class:{getCode:true,sendCode:!_vm.isSend},on:{\"click\":function($event){_vm.getCode()}}},[_vm._v(_vm._s(this.codeInfo))])]),_vm._v(\" \"),(!_vm.isSend)?_c('div',{staticClass:\"tishi\"},[_c('p',[_vm._v(\"已向您的手机发送手机验证码\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(this.phone))])]):_vm._e(),_vm._v(\" \"),_c('van-button',{staticClass:\"beSure\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.toNext}},[_vm._v(\"确认\")]),_vm._v(\" \"),_c('div',{staticClass:\"bottom_pass\"},[_c('span',{staticClass:\"iconfont icon-shangyiye\",on:{\"click\":function (){_vm.$router.go(-1)}}}),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-xiayiye\",class:_vm.activeNum>=2?'':'disabled',on:{\"click\":function (){if(_vm.activeNum>=2){_vm.$router.go(1)}}}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-e9abcc2c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/Safe.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e9abcc2c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Safe.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Safe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Safe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e9abcc2c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Safe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e9abcc2c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Safe.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}