{"version":3,"sources":["webpack:///src/components/userInfo/addressList.vue","webpack:///./src/components/userInfo/addressList.vue?6ecd","webpack:///./src/components/userInfo/addressList.vue"],"names":["use","es","addressList","name","data","query","this","$route","chooseItem","chooseItemId","id","chooseItemName","address","chooseItemUser","chooseItemMobile","cellphone","components","computed","watch","beforeCreate","created","getAddressList","beforeMount","mounted","methods","chooseAdd","_this","formdata","FormData","choose","_chooseItemId","_chooseItemName","_chooseItemUser","_chooseItemMobile","Object","utils","$router","go","addressId","addressName","userName","mobile","accessToken","console","log","append","api","then","res","_this2","$cookie","get","page","size","list","forEach","item","index","is_default","deleteAddress","_this3","form","confirm","title","message","status","catch","toAddAddress","push","path","toEditAddress","isEdit","userInfo_addressList","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","_v","_s","directives","rawName","value","expression","attrs","type","domProps","checked","_q","on","change","$event","for","click","plain","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wJAiCA,QAAAA,IAAAC,EAAA,GACA,IAAAC,GAEAC,KAAA,eAEAC,KAJA,WAKA,IAAAC,EAAAC,KAAAC,OAAAF,MACA,OACAA,QACAH,eACAM,cACAC,aAAAJ,EAAAK,GACAC,eAAAN,EAAAO,QACAC,eAAAR,EAAAF,KACAW,iBAAAT,EAAAU,YAGAC,cACAC,YACAC,SACAC,aAnBA,aAsBAC,QAtBA,WAuBAd,KAAAe,kBAGAC,YA1BA,aA6BAC,QA7BA,aAgCAC,SAEAC,UAFA,WAEA,IAAAC,EAAApB,KACAqB,EAAA,IAAAC,SACA,GAAAtB,KAAAD,MAAAwB,OAAA,KAEAC,EAAAxB,KAAAG,aAAAsB,EAAAzB,KAAAK,eAAAqB,EAAA1B,KAAAO,eAAAoB,EAAA3B,KAAAQ,iBAQA,OAPQoB,OAAAC,EAAA,EAAAD,CAAR,aACAxB,GAAAoB,EACAlB,QAAAmB,EACA5B,KAAA6B,EACAjB,UAAAkB,SAEA3B,KAAA8B,QAAAC,IAAA,GAXA,IAcA5B,EAAAH,KAAAG,aAAAE,EAAAL,KAAAK,eAAAE,EAAAP,KAAAO,eAAAC,EAAAR,KAAAQ,iBACMoB,OAAAC,EAAA,EAAAD,CAAN,aACAI,UAAA7B,EACA8B,YAAA5B,EACA6B,SAAA3B,EACA4B,OAAA3B,EACA4B,YAAA,KAEAC,QAAAC,IAAAjB,GACAA,EAAAkB,OAAA,cAAAvC,KAAAoC,aACAf,EAAAkB,OAAA,aAAAvC,KAAAG,cACAkC,QAAAC,IAAAjB,GACMO,OAAAY,EAAA,EAAAZ,CAAN,mBAAAP,GAAAoB,KAAA,SAAAC,GACAL,QAAAC,IAAAI,GACAtB,EAAAL,oBAIAA,eAlCA,WAkCA,IAAA4B,EAAA3C,KACAA,KAAAoC,YAAApC,KAAA4C,QAAAC,IAAA,eACMjB,OAAAY,EAAA,EAAAZ,CAAN,yBAAAQ,YAAApC,KAAAoC,YAAAU,KAAA,EAAAC,KAAA,MAAAN,KAAA,SAAAC,GACAL,QAAAC,IAAAI,GACAC,EAAA/C,YAAA8C,EAAA5C,UAAAkD,KACAL,EAAA5C,MAAAwB,QACAoB,EAAA/C,YAAAqD,QAAA,SAAAC,EAAAC,GACA,GAAAD,EAAAE,aACAT,EAAAxC,aAAA+C,EAAA9C,GACAuC,EAAAtC,eAAA6C,EAAA5C,QACAqC,EAAApC,eAAA2C,EAAArD,KACA8C,EAAAnC,iBAAA0C,EAAAzC,gBAQA4C,cArDA,SAqDAjD,GAAA,IAAAkD,EAAAtD,KACAuD,EAAA,IAAAjC,SACAiC,EAAAhB,OAAA,cAAAvC,KAAAoC,aACAmB,EAAAhB,OAAA,aAAAnC,GACMT,EAAA,EAAN6D,SACAC,MAAA,KACAC,QAAA,eACAjB,KAAA,WAEAJ,QAAAC,IAAAlC,EAAAkD,EAAAlB,aACAC,QAAAC,IAAAiB,GACQ3B,OAAAY,EAAA,EAAAZ,CAAR,uBAAA2B,GAAAd,KAAA,SAAAC,GACAL,QAAAC,IAAAI,GACA,KAAAA,EAAA5C,KAAA6D,QACY/B,OAAAjC,EAAA,EAAAiC,CAAZ,SACA0B,EAAAvC,kBAEYa,OAAAjC,EAAA,EAAAiC,CAAZ,iBAIAgC,MAAA,eAMAC,aAhFA,WAiFA7D,KAAA8B,QAAAgC,MACAC,KAAA,iBAIAC,cAtFA,SAsFAhC,GACAhC,KAAA8B,QAAAgC,MACAC,KAAA,eACAhE,OACAiC,YACAiC,QAAA,QC1JeC,GADEC,OAFjB,WAA0B,IAAAC,EAAApE,KAAaqE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,YAAuBL,EAAAM,GAAAN,EAAA,qBAAAlB,GAAyC,OAAAqB,EAAA,OAAiBI,IAAAzB,EAAA9C,GAAAqE,YAAA,aAAmCF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,OAAAH,EAAAQ,GAAAR,EAAAS,GAAA3B,EAAArD,SAAAuE,EAAAQ,GAAA,KAAAL,EAAA,OAAAH,EAAAQ,GAAAR,EAAAS,GAAA3B,EAAA5C,cAAA8D,EAAAQ,GAAA,KAAAL,EAAA,OAAqHE,YAAA,iBAA2BF,EAAA,OAAAA,EAAA,SAAwBO,aAAajF,KAAA,QAAAkF,QAAA,UAAAC,MAAAZ,EAAA,aAAAa,WAAA,iBAAkFR,YAAA,eAAAS,OAAoCrF,KAAA,WAAAsF,KAAA,SAAiCC,UAAWJ,MAAA9B,EAAA9C,GAAAiF,QAAAjB,EAAAkB,GAAAlB,EAAAjE,aAAA+C,EAAA9C,KAA2DmF,IAAKC,OAAA,SAAAC,GAA0BrB,EAAAjE,aAAA+C,EAAA9C,OAA2BgE,EAAAQ,GAAA,KAAAL,EAAA,SAA0BW,OAAOQ,IAAAxC,EAAA9C,IAAcmF,IAAKI,MAAA,WAAoBvB,EAAAjE,aAAA+C,EAAA9C,GAA2BgE,EAAA/D,eAAA6C,EAAA5C,QAAkC8D,EAAA7D,eAAA2C,EAAArD,KAA6BuE,EAAA5D,iBAAA0C,EAAAzC,gBAAsC2D,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,QAAqCE,YAAA,SAAAc,IAAyBI,MAAA,SAAAF,GAAyBrB,EAAAJ,cAAAd,EAAA9C,QAA6BmE,EAAA,MAAWE,YAAA,yBAAmCF,EAAA,KAAAH,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,QAAkDE,YAAA,SAAAc,IAAyBI,MAAA,SAAAF,GAAyBrB,EAAAf,cAAAH,EAAA9C,QAA6BmE,EAAA,MAAWE,YAAA,0BAAoCF,EAAA,KAAAH,EAAAQ,GAAA,mBAAiCR,EAAAQ,GAAA,KAAAL,EAAA,OAAyBE,YAAA,UAAAc,IAA0BI,MAAAvB,EAAAP,gBAA0BU,EAAA,QAAaE,YAAA,yBAAmCL,EAAAQ,GAAA,eAAAR,EAAAQ,GAAA,KAAAL,EAAA,cAAqDE,YAAA,YAAAS,OAA+BC,KAAA,UAAAS,MAAA,IAA4BL,IAAKI,MAAAvB,EAAAjD,aAAuBiD,EAAAQ,GAAA,aAE1iDiB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpG,EACAsE,GATF,EAVA,SAAA+B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/35.da144e7ca323f766f14d.js","sourcesContent":["<template>\r\n    <div class=\"address-list\">\r\n      <div class=\"list-con\">\r\n        <div v-for=\"item in addressList\" :key=\"item.id\" class=\"add-list\">\r\n          <div class=\"info-detail\">\r\n            <div>{{item.name}}</div>\r\n            <div>{{item.address}}</div>\r\n          </div>\r\n          <div class=\"order-option\">\r\n            <div>\r\n              <input class=\"choose-radio\" v-model=\"chooseItemId\" :value=\"item.id\" name=\"addRadio\" type=\"radio\">\r\n              <label @click=\"()=>{chooseItemId = item.id;chooseItemName = item.address;chooseItemUser=item.name;chooseItemMobile=item.cellphone}\" :for=\"item.id\"></label>\r\n            </div>\r\n            <div>\r\n              <span class=\"option\" @click=\"toEditAddress(item.id)\"><em class=\"iconfont icon-bianji\"></em><i>编辑</i></span>\r\n              <span  class=\"option\" @click=\"deleteAddress(item.id)\"><em class=\"iconfont icon-shanchu\"></em><i>删除</i></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"add-con\" @click=\"toAddAddress\">\r\n        <span class=\"iconfont icon-jiahao\"></span>添加新地址\r\n      </div>\r\n      <van-button  @click=\"chooseAdd\" class=\"btn-login\" type=\"default\" plain>保存</van-button>\r\n    </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport { setStore, removeStore } from \"../../assets/utils.js\"\r\nimport { Radio, Dialog ,Toast } from 'vant';\r\nimport { apiPost, apiGet } from \"../../common/js/api.js\"\r\nimport Vue from \"vue\";\r\n\r\nVue.use( Radio);\r\nexport default {\r\n  \r\n    name: \"address-list\",\r\n    \r\n    data(){\r\n      const query = this.$route.query;\r\n      return{\r\n        query:query,\r\n        addressList:[],\r\n        chooseItem:{},\r\n        chooseItemId:query.id,\r\n        chooseItemName:query.address,\r\n        chooseItemUser:query.name,\r\n        chooseItemMobile:query.cellphone,\r\n      }\r\n    },\r\n    components: { },\r\n    computed: {},\r\n    watch:{},\r\n    beforeCreate(){\r\n\r\n    },\r\n    created(){\r\n      this.getAddressList();\r\n    },\r\n\r\n    beforeMount(){\r\n\r\n    },\r\n    mounted(){\r\n\r\n    },\r\n    methods:{\r\n      //选择地址\r\n      chooseAdd(){\r\n        let formdata = new FormData();\r\n        if(this.query.choose){\r\n          //订单选择地址\r\n          const { chooseItemId, chooseItemName, chooseItemUser, chooseItemMobile } = this;\r\n          setStore('chooseAdd',{\r\n            id:chooseItemId,\r\n            address:chooseItemName,\r\n            name:chooseItemUser,\r\n            cellphone:chooseItemMobile,\r\n          })\r\n          this.$router.go(-1)\r\n          return;\r\n        }\r\n        const { chooseItemId, chooseItemName, chooseItemUser, chooseItemMobile } = this;\r\n        setStore('chooseAdd',{\r\n          addressId:chooseItemId,\r\n          addressName:chooseItemName,\r\n          userName:chooseItemUser,\r\n          mobile:chooseItemMobile,\r\n          accessToken:''\r\n        })\r\n        console.log(formdata)\r\n        formdata.append('accessToken',this.accessToken);\r\n        formdata.append('address_id',this.chooseItemId)\r\n        console.log(formdata)\r\n        apiPost('/address/default',formdata).then((res)=>{\r\n          console.log(res);\r\n          this.getAddressList();\r\n        })\r\n      },\r\n      //获取地址列表\r\n      getAddressList(){\r\n        this.accessToken = this.$cookie.get('accessToken');\r\n        apiGet('/address/address-list',{accessToken:this.accessToken,page:1,size:100}).then(res=>{\r\n          console.log(res)\r\n          this.addressList =  res.data.data.list;\r\n          if(!this.query.choose){\r\n            this.addressList.forEach((item,index)=>{\r\n              if(item.is_default==1){\r\n                this.chooseItemId=item.id;\r\n                this.chooseItemName=item.address;\r\n                this.chooseItemUser=item.name;\r\n                this.chooseItemMobile=item.cellphone;\r\n              }\r\n            })\r\n          }\r\n          \r\n        })\r\n      },\r\n      //删除地址\r\n      deleteAddress(id){\r\n        let form = new FormData();\r\n        form.append('accessToken',this.accessToken);\r\n        form.append('address_id',id);\r\n        Dialog.confirm({\r\n          title: '警告',\r\n          message: '是否确认删除该地址？'\r\n        }).then(() => {\r\n          // on confirm\r\n          console.log(id,this.accessToken)\r\n          console.log(form)\r\n          apiPost('/address/address-del',form).then(res=>{\r\n            console.log(res);\r\n            if(res.data.status==200){\r\n              Toast('删除成功!')\r\n              this.getAddressList();\r\n            }else {\r\n              Toast('删除失败,请重试!')\r\n            }\r\n\r\n          })\r\n        }).catch(() => {\r\n          // on cancel\r\n        });\r\n       \r\n      },\r\n      //前往添加地址\r\n      toAddAddress(){\r\n        this.$router.push({\r\n          path:'/addAddress',\r\n        })\r\n      },\r\n      //前往编辑地址\r\n      toEditAddress(addressId){\r\n        this.$router.push({\r\n          path:'/editAddress',\r\n          query:{\r\n            addressId,\r\n            isEdit:true\r\n          }\r\n        })\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .address-list{\r\n    background: #E6E9ED;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: nowrap;\r\n    overflow: hidden;\r\n    padding:.18rem .13rem .6rem .13rem;\r\n  }\r\n  .list-con{\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n  .add-con{\r\n    width:100%;\r\n    background: #fff;\r\n    border-radius: .04rem;\r\n    height: .47rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: .19rem;\r\n    color:#9A9A9A;\r\n    &>span{\r\n      font-size: .20rem;\r\n      margin-right: .15rem;\r\n    }\r\n  }\r\n  .add-list{\r\n    width:100%;\r\n    height: 1.3rem;\r\n    background: #fff;\r\n    margin-bottom: .17rem;\r\n    padding: .21rem .04rem 0 .04rem;\r\n    border-radius: .04rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #333;\r\n    .info-detail{\r\n      flex:1;\r\n      padding:0 .09rem;\r\n      &>div:nth-of-type(1){\r\n        font-size: .19rem;\r\n        margin-bottom: .05rem;\r\n      }\r\n      &>div:nth-of-type(2){\r\n        font-size: .15rem\r\n      }\r\n    }\r\n    .order-option{\r\n      height: .47rem;\r\n      border-top: .01rem solid #F5F5F5;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      display: flex;\r\n      padding: 0 .09rem;\r\n      &>div{\r\n        align-items: center;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        span{\r\n          align-items: center;\r\n          display: flex;\r\n          margin-right: .25rem;\r\n        }\r\n      }\r\n      .option{\r\n        &:nth-last-child(1){\r\n          margin:0;\r\n        }\r\n        em{\r\n          font-size: .24rem;\r\n          color:#9A9A9A;\r\n        }\r\n        i{\r\n          font-size: .15rem;\r\n          color: #333;\r\n          margin-left:.08rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  input[type=\"radio\"] + label::before {\r\n    content: \"\\a0\"; /*不换行空格*/\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    padding: .04rem;\r\n    box-sizing: border-box;\r\n    border-radius: .02rem;\r\n    font-size: 18px;\r\n    width: 0.19rem;\r\n    height: 0.19rem;\r\n    margin-right: .4em;\r\n    // border-radius: 50%;\r\n    border: 1px solid #3C7FEE;\r\n    text-indent: .15em;\r\n    line-height: 1;\r\n  }\r\n  input[type=\"radio\"]:checked + label::before {\r\n    box-sizing: border-box;\r\n    background-color: #3C7FEE;\r\n    background-clip: content-box;\r\n    padding: .04rem;\r\n    border-radius: .02rem;\r\n  }\r\n  input[type=\"radio\"] {\r\n    position: absolute;\r\n    \r\n    clip: rect(0, 0, 0, 0);\r\n  }\r\n  .btn-login{\r\n    width: 100%;\r\n    height: .47rem;\r\n    background:linear-gradient(-90deg,rgba(60,127,238,1),rgba(103,154,237,1));\r\n    border-radius:0;\r\n    font-size: 0.17rem;\r\n    text-align: center;\r\n    line-height: .47rem;\r\n    outline: none;\r\n    border: none;\r\n    display: block;\r\n    color: white;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left:0;\r\n  }\r\n  i,em{\r\n    font-style: normal;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/userInfo/addressList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"address-list\"},[_c('div',{staticClass:\"list-con\"},_vm._l((_vm.addressList),function(item){return _c('div',{key:item.id,staticClass:\"add-list\"},[_c('div',{staticClass:\"info-detail\"},[_c('div',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.address))])]),_vm._v(\" \"),_c('div',{staticClass:\"order-option\"},[_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.chooseItemId),expression:\"chooseItemId\"}],staticClass:\"choose-radio\",attrs:{\"name\":\"addRadio\",\"type\":\"radio\"},domProps:{\"value\":item.id,\"checked\":_vm._q(_vm.chooseItemId,item.id)},on:{\"change\":function($event){_vm.chooseItemId=item.id}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":item.id},on:{\"click\":function (){_vm.chooseItemId = item.id;_vm.chooseItemName = item.address;_vm.chooseItemUser=item.name;_vm.chooseItemMobile=item.cellphone}}})]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"option\",on:{\"click\":function($event){_vm.toEditAddress(item.id)}}},[_c('em',{staticClass:\"iconfont icon-bianji\"}),_c('i',[_vm._v(\"编辑\")])]),_vm._v(\" \"),_c('span',{staticClass:\"option\",on:{\"click\":function($event){_vm.deleteAddress(item.id)}}},[_c('em',{staticClass:\"iconfont icon-shanchu\"}),_c('i',[_vm._v(\"删除\")])])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"add-con\",on:{\"click\":_vm.toAddAddress}},[_c('span',{staticClass:\"iconfont icon-jiahao\"}),_vm._v(\"添加新地址\\n  \")]),_vm._v(\" \"),_c('van-button',{staticClass:\"btn-login\",attrs:{\"type\":\"default\",\"plain\":\"\"},on:{\"click\":_vm.chooseAdd}},[_vm._v(\"保存\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-56a59642\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/userInfo/addressList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56a59642\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addressList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addressList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addressList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56a59642\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addressList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-56a59642\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/userInfo/addressList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}