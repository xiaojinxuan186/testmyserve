webpackJsonp([15],{bkVt:function(e,t){},dIqY:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("m9rU"),a=s("iDcQ"),n=s("g3lQ"),i=(s("aozt"),{name:"logout",data:function(){return{query:this.$route.query,mobilereg:!1,mobile:"",code:"",codereg:!1,password:"",passwordreg:!1,repassword:"",repasswordreg:!1,name:"",namereg:"",codeback:"",codeinfo:"获取验证码",isSend:!0,timer:null}},mounted:function(){},methods:{mobileReg:function(){/^[1][3,4,5,7,8,9][0-9]{9}$/.test(this.mobile)?this.mobilereg=!0:Object(o.j)("请输入正确的手机号")},codeReg:function(){this.codeback==this.code&&(this.codereg=!0)},passwordReg:function(){/^\d{1,}$/.test(this.password)?Object(o.j)("请不要输入纯数字"):/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(this.password)?this.passwordreg=!0:Object(o.j)("请输入正确格式的密码!")},repasswordReg:function(){this.repassword!=this.password?Object(o.j)("两次密码不一致!"):this.repasswordreg=!0},nameReg:function(){},register:function(){var e=this;/^[\s]*$/.test(this.name)?Object(o.j)("姓名不能为空"):/^[\u4E00-\u9FA5]{1,5}$/.test(this.name)?(this.namereg=!0,this.mobilereg&&this.codereg&&this.passwordreg&&this.repasswordreg&&this.namereg?Object(n.b)("/account/register",{cellphone:this.mobile,password:this.password,code:this.code,name:this.name,rcode:this.query.shareId}).then(function(t){console.log(t),200==t.data.status?(Object(o.j)("注册成功!"),e.$router.push({path:"/user"})):400==t.data.status&&(Object(o.j)(t.data.message),e.mobile=e.code=e.password=e.repassword=e.name="",clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0)}):Object(o.j)("填入信息有误,请再次确认!")):Object(o.j)("请输入中文!")},getCode:function(){var e=this;a.a.test(this.mobile)&&this.isSend?Object(n.a)("/account/sms",{cellphone:this.mobile,type:1}).then(function(t){if(console.log(t),200==t.status){if(e.codeback=t.data.data.phonecode,console.log(e.codeback),Object(o.j)(t.data.message),!e.isSend)return;e.isSend=!1;var s=60;e.codeinfo="("+s+"秒后重试)",e.timer=setInterval(function(){s--,e.codeinfo="("+s+"秒后重试)",0==s&&(clearInterval(e.timer),e.codeinfo="获取验证码",e.isSend=!0)},1e3)}else Object(o.j)("验证码发送失败,请重试")}):"获取验证码"!=this.codeinfo?Object(o.j)("验证码发送频繁,请稍后再试"):Object(o.j)("请输入正确格式的手机号!")}}}),r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login_wrap"},[e._m(0),e._v(" "),s("div",{staticClass:"show_login"},[s("li",[s("span",{staticClass:"iconfont icon-shouji"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"},{name:"focus",rawName:"v-focus"}],attrs:{type:"number",placeholder:"请输入手机号"},domProps:{value:e.mobile},on:{blur:function(t){e.mobileReg()},input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),s("li",{staticClass:"yanzheng"},[s("span",{staticClass:"iconfont icon-yanzhengma"}),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",placeholder:"请输入验证码"},domProps:{value:e.code},on:{blur:function(t){e.codeReg()},input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),s("van-button",{class:{sendcode:!e.isSend,btn_code:!0},attrs:{type:"default",plain:""},on:{click:function(t){e.getCode()}}},[e._v(e._s(e.codeinfo))])],1),e._v(" "),s("li",[s("span",{staticClass:"iconfont icon-mima"}),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"6~16位密码，区分大小写"},domProps:{value:e.password},on:{blur:function(t){e.passwordReg()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"iconfont icon-mima"}),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:e.repassword},on:{blur:function(t){e.repasswordReg()},input:function(t){t.target.composing||(e.repassword=t.target.value)}}})]),e._v(" "),s("li",[s("span",{staticClass:"iconfont icon-yonghu1"}),s("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"text",type:"text",placeholder:"姓名"},domProps:{value:e.name},on:{blur:function(t){e.nameReg()},input:function(t){t.target.composing||(e.name=t.target.value)}}})])]),e._v(" "),s("van-button",{staticClass:"btn-login",attrs:{type:"default",plain:""},on:{click:function(t){e.register()}}},[e._v("注册")]),e._v(" "),s("div",{staticClass:"other_link"},[e.query.shareId?e._e():s("router-link",{attrs:{to:"/user"}},[e._v("已有账号登录")])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("img",{staticClass:"logo",attrs:{src:s("w2uv"),alt:""}})])}]};var c=s("C7Lr")(i,r,!1,function(e){s("bkVt")},"data-v-1f75304f",null);t.default=c.exports},w2uv:function(e,t,s){e.exports=s.p+"static/img/logo.0a07838.png"}});
//# sourceMappingURL=15.89e4e3b0b5f9675a546c.js.map